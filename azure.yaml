name: azure-gpt-rag
infra:
  provider: bicep
  path: infra
  module: main
hooks:
  predeploy:
    posix:
      shell: sh
      run: scripts/hooks/predeploy.sh
      interactive: true
    windows:
      shell: pwsh
      run: scripts/hooks/predeploy.ps1
      interactive: true
  preprovision:
    posix:
      run: scripts/hooks/preprovision.sh
      interactive: true
    windows:
      run: scripts/hooks/preprovision.ps1
      interactive: true      
services:
  frontend:
    host: containerapp
    image: ${AZURE_CONTAINER_REGISTRY_NAME}.azurecr.io/azure-gpt-rag/frontend-build:${TAG}
            